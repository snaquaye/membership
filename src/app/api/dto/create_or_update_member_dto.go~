package dto

import "github.com/snaquaye/coza-fha-membership/app/core/entities"

type CreateOrUpdateMemberDto struct {
	Id              *uint
	UserId          string  `json:"userId"`
	FirstName       string  `json:"firstName" validate:"required,min=2,max=50"`
	LastName        string  `json:"lastName" validate:"required,min=2,max=50"`
	OtherNames      *string `json:"otherNames;omitEmpty" "validate:min=2,max=50"`
	Gender          string  `json:"gender" validate:"required,oneof=male female"`
	AgeGroup        string  `json:"ageGroup" validate:"required`
	PhoneNumber     *string `json:"phoneNumber,omitEmpty" validate:min=11,max=20`
	Email           *string `json:"email,omitEmpty" validate:email`
	MaritalStatus   string  `json:"maritalStatus,default:single" validate:"required,oneof=single married divorced separated"`
	CountryOfOrigin string  `json:"countryOfOrigin,default:Nigeria" validate:"required"`
	StateOfOrigin   string  `json:"stateOfOrigin" validate:"required"`
	Address         string  `json:"address" validate:"required"`
	Occupation      *string `json:"occupation" validate:"min=2,max=50"`
	ParentId        *uint   `json:"parentId"`
}

func NewCreateOrUpdateMemberDto(member *entities.Member) *CreateOrUpdateMemberDto {
	return &CreateOrUpdateMemberDto{
		Id:              &member.ID,
		UserId:          member.UserId,
		FirstName:       member.FirstName,
		LastName:        member.LastName,
		OtherNames:      member.OtherNames,
		Gender:          member.Gender,
		AgeGroup:        member.AgeGroup,
		PhoneNumber:     member.PhoneNumber,
		Email:           member.Email,
		MaritalStatus:   member.MaritalStatus,
		CountryOfOrigin: member.CountryOfOrigin,
		StateOfOrigin:   member.StateOfOrigin,
		Address:         member.Address,
		Occupation:      member.Occupation,
	}
}
